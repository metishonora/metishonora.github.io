<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="google-site-verification" content="X_Sk9dHytUBVYyETRCACtsXUTaafN_O2tT9yQMpSca8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>생성자를 숨기는 팩토리 메서드 | README.md</title>
<meta name="generator" content="Jekyll v4.3.3">
<meta property="og:title" content="생성자를 숨기는 팩토리 메서드">
<meta name="author" content="Metishonora">
<meta property="og:locale" content="ko">
<meta name="description" content="프리코스 1주차 돌아보기 1주차에 진행했던 숫자 야구 게임의 코드를 돌아보면, 객체 생성 시에 여러 생성자를 사용했었다. // 컴퓨터(투수)가 생성한 랜덤 숫자를 담거나, // 사용자(타자)가 생성한 숫자를 담기 위한 클래스 public class Player { private final List&lt;Integer&gt; numbers; // 무작위 숫자로 객체 생성 public Player(총 자릿수, 범위) { ... } // 주어진 리스트와 동일하게 객체 생성 public Player(List&lt;Integer&gt; numbers) { ... } } // 사용 예시 Player pitcher = new Player(자릿수 = 3, 범위 = 0~9); // 무작위 숫자 [3, 2, 7] 생성 Player hitter = new Player(사용자 입력으로부터 구성한 List); // 사용자가 [1, 2, 3] 입력 // 결과: 1스트라이크, 1볼 투수와 타자의 코드를 재사용하고 싶어 Player라는 하나의 클래스로 만들었고, 생성자를 통해 생성 방식을 구분하였다. 하지만 코드를 보면 알 수 있듯이 한 눈에 각자의 역할을 파악하기란 쉽지 않다. 모두 동일한 Player라는 이름의 메서드를 사용하고 있어 코드를 작성한 본인 외에는 역할을 알기 힘들었고, 그 점을 보완하기 위해 주석을 덕지덕지 달아야 했다. 이런 문제점을 어떻게 보완할 수 있을까 고민하던 중에, 우테코 프리코스 디코에서 한 가지 정보를 얻을 수 있었다. 팩토리 메서드 팩토리 메서드(Factory Method)란 생성자를 대신해 객체 생성의 역할을 하는 메서드이다[1]. Effective Java[2]에 따르면 생성자 대신 팩토리 메서드를 사용할 때의 장점이 여럿 있다고 하는데, 그 중 이번 과제에 적용할 수 있던 부분을 소개한다. 이름 가지기 이번 3주차에서는 컴퓨터가 생성한 무작위 로또와 사용자가 생성한 정답 로또 용지를 Lotto라는 하나의 클래스로 재사용하였다. public class Lotto { private final List&lt;Integer&gt; numbers; public Lotto(List&lt;Integer&gt; numbers) { this.numbers = numbers; } } public class LottoGenerator { public static Lotto generateRandomLotto() {...} public static Lotto generateAnswerLotto(List&lt;Integer&gt; numbers) { return new Lotto(numbers); } } // 사용 예시 Lotto randomLotto = LottoGenerator.generateRandomLotto(); Lotto lottoFromUserInput = LottoGenerator.generateAnswerLotto(/*리스트*/); 1주차 코드와 비교하면 큰 발전이 느껴진다. 한눈에 무슨 역할을 하는 코드인지 알아보기 쉽고, 이후 유지보수하기에도 수월할 것이다. 객체 생성 캡슐화 이전 글에서 밝힌 것처럼, 이번 과제에는 Dto도 사용되었다. Dto 객체 생성에도 팩토리 메서드를 사용하는 것으로 이번 주차에 특히 집중했던 캡슐화라는 목표에 다가설 수 있었다. public class LottoDto { private final String numbers; // 생성자는 private으로 두고 외부에서 접근하지 못하게 하였다. private LottoDto(Lotto lotto) {...} // 외부에서는 팩토리 메서드를 사용해 Dto를 생성할 수 있다. public static LottoDto from(Lotto lotto) { return new LottoDto(lotto); } } // 팩토리 메서드를 사용하기 이전 코드 outputView.print(new LottoDto(lotto.toString())); outputView.print(new LottoDto(lotto.getNumbers())); // 팩토리 메서드를 적용한 코드 outputView.print(new LottoDto.from(lotto)); 팩토리 메서드를 사용하기 이전에는, 뷰에 넘겨주기 위한 Dto를 만들 때 getter를 사용해 모델의 내부 구조를 그대로 노출해야 했다. 지금까지의 글에서 계속 언급했듯이, 이는 캡슐화를 깨는 디자인이며 요구사항(모델의 내부 구조)이 변할 경우 많은 코드의 수정을 필요로 한다. 아래처럼 팩토리 메서드를 사용하여 변환 과정을 숨기는 것으로 캡슐화를 유지할 수 있다. 코드 재사용 이렇게 [2]에서 소개하는 장점을 과제에 적용하고, 추가로 객체 생성 시 validate 책임도 팩토리 메서드에 위임했다. 이 방법을 통해 조합 클래스 객체 생성 시, validate 코드를 재사용할 수 있었다. 팩토리 메서드 적용 이전 팩토리 메서드 적용 이후 3주차를 마치며 이번 주차의 과제를 해결하면서 요구 사항을 만족하기 위해 정말 많은 것을 공부할 수 있었다. MVC 패턴, DTO, 조합 클래스, 팩토리 메서드를 공부해 코드에 적용하고, 블로그에 적용한 내용들을 소개했다. 1주차 코드와 약간 비교해봐도 클린 코드를 향해 나아가고 있다는 느낌이 든다. 언젠가 거대한 프로젝트의 코드에 기여할 때, 이렇게 배운 내용들이 좋은 코드 작성에 도움이 될 것이다. Reference [1] 정적 팩토리 메서드(Static Factory Method)는 왜 사용할까? [2] Joshua Bloch, “Effective Java,” 2018. [3] 팩토리 메서드(Factory Method) 패턴 - 완벽 마스터하기">
<meta property="og:description" content="프리코스 1주차 돌아보기 1주차에 진행했던 숫자 야구 게임의 코드를 돌아보면, 객체 생성 시에 여러 생성자를 사용했었다. // 컴퓨터(투수)가 생성한 랜덤 숫자를 담거나, // 사용자(타자)가 생성한 숫자를 담기 위한 클래스 public class Player { private final List&lt;Integer&gt; numbers; // 무작위 숫자로 객체 생성 public Player(총 자릿수, 범위) { ... } // 주어진 리스트와 동일하게 객체 생성 public Player(List&lt;Integer&gt; numbers) { ... } } // 사용 예시 Player pitcher = new Player(자릿수 = 3, 범위 = 0~9); // 무작위 숫자 [3, 2, 7] 생성 Player hitter = new Player(사용자 입력으로부터 구성한 List); // 사용자가 [1, 2, 3] 입력 // 결과: 1스트라이크, 1볼 투수와 타자의 코드를 재사용하고 싶어 Player라는 하나의 클래스로 만들었고, 생성자를 통해 생성 방식을 구분하였다. 하지만 코드를 보면 알 수 있듯이 한 눈에 각자의 역할을 파악하기란 쉽지 않다. 모두 동일한 Player라는 이름의 메서드를 사용하고 있어 코드를 작성한 본인 외에는 역할을 알기 힘들었고, 그 점을 보완하기 위해 주석을 덕지덕지 달아야 했다. 이런 문제점을 어떻게 보완할 수 있을까 고민하던 중에, 우테코 프리코스 디코에서 한 가지 정보를 얻을 수 있었다. 팩토리 메서드 팩토리 메서드(Factory Method)란 생성자를 대신해 객체 생성의 역할을 하는 메서드이다[1]. Effective Java[2]에 따르면 생성자 대신 팩토리 메서드를 사용할 때의 장점이 여럿 있다고 하는데, 그 중 이번 과제에 적용할 수 있던 부분을 소개한다. 이름 가지기 이번 3주차에서는 컴퓨터가 생성한 무작위 로또와 사용자가 생성한 정답 로또 용지를 Lotto라는 하나의 클래스로 재사용하였다. public class Lotto { private final List&lt;Integer&gt; numbers; public Lotto(List&lt;Integer&gt; numbers) { this.numbers = numbers; } } public class LottoGenerator { public static Lotto generateRandomLotto() {...} public static Lotto generateAnswerLotto(List&lt;Integer&gt; numbers) { return new Lotto(numbers); } } // 사용 예시 Lotto randomLotto = LottoGenerator.generateRandomLotto(); Lotto lottoFromUserInput = LottoGenerator.generateAnswerLotto(/*리스트*/); 1주차 코드와 비교하면 큰 발전이 느껴진다. 한눈에 무슨 역할을 하는 코드인지 알아보기 쉽고, 이후 유지보수하기에도 수월할 것이다. 객체 생성 캡슐화 이전 글에서 밝힌 것처럼, 이번 과제에는 Dto도 사용되었다. Dto 객체 생성에도 팩토리 메서드를 사용하는 것으로 이번 주차에 특히 집중했던 캡슐화라는 목표에 다가설 수 있었다. public class LottoDto { private final String numbers; // 생성자는 private으로 두고 외부에서 접근하지 못하게 하였다. private LottoDto(Lotto lotto) {...} // 외부에서는 팩토리 메서드를 사용해 Dto를 생성할 수 있다. public static LottoDto from(Lotto lotto) { return new LottoDto(lotto); } } // 팩토리 메서드를 사용하기 이전 코드 outputView.print(new LottoDto(lotto.toString())); outputView.print(new LottoDto(lotto.getNumbers())); // 팩토리 메서드를 적용한 코드 outputView.print(new LottoDto.from(lotto)); 팩토리 메서드를 사용하기 이전에는, 뷰에 넘겨주기 위한 Dto를 만들 때 getter를 사용해 모델의 내부 구조를 그대로 노출해야 했다. 지금까지의 글에서 계속 언급했듯이, 이는 캡슐화를 깨는 디자인이며 요구사항(모델의 내부 구조)이 변할 경우 많은 코드의 수정을 필요로 한다. 아래처럼 팩토리 메서드를 사용하여 변환 과정을 숨기는 것으로 캡슐화를 유지할 수 있다. 코드 재사용 이렇게 [2]에서 소개하는 장점을 과제에 적용하고, 추가로 객체 생성 시 validate 책임도 팩토리 메서드에 위임했다. 이 방법을 통해 조합 클래스 객체 생성 시, validate 코드를 재사용할 수 있었다. 팩토리 메서드 적용 이전 팩토리 메서드 적용 이후 3주차를 마치며 이번 주차의 과제를 해결하면서 요구 사항을 만족하기 위해 정말 많은 것을 공부할 수 있었다. MVC 패턴, DTO, 조합 클래스, 팩토리 메서드를 공부해 코드에 적용하고, 블로그에 적용한 내용들을 소개했다. 1주차 코드와 약간 비교해봐도 클린 코드를 향해 나아가고 있다는 느낌이 든다. 언젠가 거대한 프로젝트의 코드에 기여할 때, 이렇게 배운 내용들이 좋은 코드 작성에 도움이 될 것이다. Reference [1] 정적 팩토리 메서드(Static Factory Method)는 왜 사용할까? [2] Joshua Bloch, “Effective Java,” 2018. [3] 팩토리 메서드(Factory Method) 패턴 - 완벽 마스터하기">
<link rel="canonical" href="https://metishonora.github.io/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/2-woowacourse-pre3-factory.html">
<meta property="og:url" content="https://metishonora.github.io/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/2-woowacourse-pre3-factory.html">
<meta property="og:site_name" content="README.md">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-11-08T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="생성자를 숨기는 팩토리 메서드">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Metishonora"},"dateModified":"2023-11-08T00:00:00+00:00","datePublished":"2023-11-08T00:00:00+00:00","description":"프리코스 1주차 돌아보기 1주차에 진행했던 숫자 야구 게임의 코드를 돌아보면, 객체 생성 시에 여러 생성자를 사용했었다. // 컴퓨터(투수)가 생성한 랜덤 숫자를 담거나, // 사용자(타자)가 생성한 숫자를 담기 위한 클래스 public class Player { private final List&lt;Integer&gt; numbers; // 무작위 숫자로 객체 생성 public Player(총 자릿수, 범위) { ... } // 주어진 리스트와 동일하게 객체 생성 public Player(List&lt;Integer&gt; numbers) { ... } } // 사용 예시 Player pitcher = new Player(자릿수 = 3, 범위 = 0~9); // 무작위 숫자 [3, 2, 7] 생성 Player hitter = new Player(사용자 입력으로부터 구성한 List); // 사용자가 [1, 2, 3] 입력 // 결과: 1스트라이크, 1볼 투수와 타자의 코드를 재사용하고 싶어 Player라는 하나의 클래스로 만들었고, 생성자를 통해 생성 방식을 구분하였다. 하지만 코드를 보면 알 수 있듯이 한 눈에 각자의 역할을 파악하기란 쉽지 않다. 모두 동일한 Player라는 이름의 메서드를 사용하고 있어 코드를 작성한 본인 외에는 역할을 알기 힘들었고, 그 점을 보완하기 위해 주석을 덕지덕지 달아야 했다. 이런 문제점을 어떻게 보완할 수 있을까 고민하던 중에, 우테코 프리코스 디코에서 한 가지 정보를 얻을 수 있었다. 팩토리 메서드 팩토리 메서드(Factory Method)란 생성자를 대신해 객체 생성의 역할을 하는 메서드이다[1]. Effective Java[2]에 따르면 생성자 대신 팩토리 메서드를 사용할 때의 장점이 여럿 있다고 하는데, 그 중 이번 과제에 적용할 수 있던 부분을 소개한다. 이름 가지기 이번 3주차에서는 컴퓨터가 생성한 무작위 로또와 사용자가 생성한 정답 로또 용지를 Lotto라는 하나의 클래스로 재사용하였다. public class Lotto { private final List&lt;Integer&gt; numbers; public Lotto(List&lt;Integer&gt; numbers) { this.numbers = numbers; } } public class LottoGenerator { public static Lotto generateRandomLotto() {...} public static Lotto generateAnswerLotto(List&lt;Integer&gt; numbers) { return new Lotto(numbers); } } // 사용 예시 Lotto randomLotto = LottoGenerator.generateRandomLotto(); Lotto lottoFromUserInput = LottoGenerator.generateAnswerLotto(/*리스트*/); 1주차 코드와 비교하면 큰 발전이 느껴진다. 한눈에 무슨 역할을 하는 코드인지 알아보기 쉽고, 이후 유지보수하기에도 수월할 것이다. 객체 생성 캡슐화 이전 글에서 밝힌 것처럼, 이번 과제에는 Dto도 사용되었다. Dto 객체 생성에도 팩토리 메서드를 사용하는 것으로 이번 주차에 특히 집중했던 캡슐화라는 목표에 다가설 수 있었다. public class LottoDto { private final String numbers; // 생성자는 private으로 두고 외부에서 접근하지 못하게 하였다. private LottoDto(Lotto lotto) {...} // 외부에서는 팩토리 메서드를 사용해 Dto를 생성할 수 있다. public static LottoDto from(Lotto lotto) { return new LottoDto(lotto); } } // 팩토리 메서드를 사용하기 이전 코드 outputView.print(new LottoDto(lotto.toString())); outputView.print(new LottoDto(lotto.getNumbers())); // 팩토리 메서드를 적용한 코드 outputView.print(new LottoDto.from(lotto)); 팩토리 메서드를 사용하기 이전에는, 뷰에 넘겨주기 위한 Dto를 만들 때 getter를 사용해 모델의 내부 구조를 그대로 노출해야 했다. 지금까지의 글에서 계속 언급했듯이, 이는 캡슐화를 깨는 디자인이며 요구사항(모델의 내부 구조)이 변할 경우 많은 코드의 수정을 필요로 한다. 아래처럼 팩토리 메서드를 사용하여 변환 과정을 숨기는 것으로 캡슐화를 유지할 수 있다. 코드 재사용 이렇게 [2]에서 소개하는 장점을 과제에 적용하고, 추가로 객체 생성 시 validate 책임도 팩토리 메서드에 위임했다. 이 방법을 통해 조합 클래스 객체 생성 시, validate 코드를 재사용할 수 있었다. 팩토리 메서드 적용 이전 팩토리 메서드 적용 이후 3주차를 마치며 이번 주차의 과제를 해결하면서 요구 사항을 만족하기 위해 정말 많은 것을 공부할 수 있었다. MVC 패턴, DTO, 조합 클래스, 팩토리 메서드를 공부해 코드에 적용하고, 블로그에 적용한 내용들을 소개했다. 1주차 코드와 약간 비교해봐도 클린 코드를 향해 나아가고 있다는 느낌이 든다. 언젠가 거대한 프로젝트의 코드에 기여할 때, 이렇게 배운 내용들이 좋은 코드 작성에 도움이 될 것이다. Reference [1] 정적 팩토리 메서드(Static Factory Method)는 왜 사용할까? [2] Joshua Bloch, “Effective Java,” 2018. [3] 팩토리 메서드(Factory Method) 패턴 - 완벽 마스터하기","headline":"생성자를 숨기는 팩토리 메서드","mainEntityOfPage":{"@type":"WebPage","@id":"https://metishonora.github.io/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/2-woowacourse-pre3-factory.html"},"url":"https://metishonora.github.io/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/2-woowacourse-pre3-factory.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="icon" href="/assets/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="https://metishonora.github.io/feed.xml" title="README.md">
<!-- Google tag (gtag.js) -->
<script>
  function initGoogleAnalytics() {
    var doNotTrack = (window.doNotTrack === "1" || navigator.doNotTrack === "1" ||
      navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1");
    var enableDNT = "true" == "true";

    if (!enableDNT || !doNotTrack) {
      var measurementId = 'G-3ZE0SQ8DC0';

      (function(src) {
        var tag = document.createElement('script');
        tag.src = src;
        tag.async = true;
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      })('https://www.googletagmanager.com/gtag/js?id=' + measurementId);

      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', measurementId);
    }
  }
  window.addEventListener("load", initGoogleAnalytics);
</script>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/photoswipe.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/default-skin/default-skin.css" rel="stylesheet">
<style>
  .pswp .pswp__container .pswp__img {
    background-color: white;
  }
</style>

<script>
  function initPhotoSwipe() {
    var mainEl = document.querySelector("section.main");

    var imgEls = mainEl.querySelectorAll("img:not(.emoji)");
    imgEls.forEach((imgEl) => {
      imgEl.outerHTML = `
    <a class="photo-swipe"
      href="${imgEl.src}"
      data-width="${imgEl.getAttribute("width") || imgEl.width * 2}"
      data-height="${imgEl.getAttribute("height") || imgEl.height * 2}"
      data-caption="${imgEl.getAttribute("caption") || imgEl.alt}"
      target="_blank">
      ${imgEl.outerHTML}
    </a>`;
    });

    // Init empty gallery array
    var container = [];

    // Loop over gallery items and push it to the array
    var linkEls = mainEl.querySelectorAll("a.photo-swipe");
    linkEls.forEach((link) => {
      var item = {
        src: link.getAttribute("href"),
        w: link.dataset.width,
        h: link.dataset.height,
        title: link.dataset.caption || "",
      };
      container.push(item);
    });

    // Define click event on gallery item
    linkEls.forEach((link, index) => {
      link.addEventListener("click", (event) => {
        // Prevent location change
        event.preventDefault();

        // Define object and gallery options
        var pswp = document.querySelector(".pswp");

        var zoomLevel = 1;

        // Define object and gallery options
        var options = {
          index: index,
          bgOpacity: 0.85,
          showHideOpacity: true,
          closeOnScroll: true,
          maxSpreadZoom: 1,
          getDoubleTapZoom: (isMouseClick, item) => {
            if (item.detail) {
              zoomLevel += item.detail.origEvent.shiftKey ? -1 : 1;
              item.detail = undefined;
            } else {
              zoomLevel = zoomLevel === 1 ? 2 : 1;
            }
            if (zoomLevel <= 1) {
              zoomLevel = 1;
              setTimeout(() => pswp.classList.remove("pswp--zoomed-in"), 0);
            }
            return item.initialZoomLevel * zoomLevel;
          },
        };

        // Initialize PhotoSwipe
        var gallery = new PhotoSwipe(
          pswp,
          PhotoSwipeUI_Default,
          container,
          options
        );

        gallery.init();

        // Custom zoom event
        gallery.container.addEventListener("pswpTap", (e) => {
          gallery.currItem.detail = e.detail;
        });
      });
    });
  }

  window.addEventListener("load", initPhotoSwipe);
</script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
</head>
<body>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe.
           It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg"></div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides.
              PhotoSwipe keeps only 3 of them in the DOM to save memory.
              Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter"></div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--share" title="Share"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
      <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
      </div>
    </div>
  </div>
</div>





























































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="README.md" src="/assets/favicon.ico" onerror="this.style.display='none'">
  README.md
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/about.html">GITHUB</a><a class="page-link" href="/archives.html">ARCHIVES</a><a class="page-link" href="/categories.html">CATEGORIES</a><a class="page-link" href="/tags.html">TAGS</a><a class="page-link" href="/index.html">MAIN</a>









<!--
              <span class="page-link">



<div id="google_translate_element" style="display: none;">
</div>

<span class="ct-language">
  <ul class="list-unstyled ct-language-dropdown">
    
      <li>
        <a href="#" class="lang-select" data-lang="en">
          
          <img src="https://cdn.countryflags.com/thumbs/united-states-of-america/flag-400.png" title="English">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="fr">
          
          <img src="https://cdn.countryflags.com/thumbs/france/flag-400.png" title="French">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="zh-CN">
          
          <img src="https://cdn.countryflags.com/thumbs/china/flag-400.png" title="Chinese(Simple)">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ja">
          
          <img src="https://cdn.countryflags.com/thumbs/japan/flag-400.png" title="Japanese">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ko">
          
          <img src="https://cdn.countryflags.com/thumbs/south-korea/flag-400.png" title="Korean">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ru">
          
          <img src="https://cdn.countryflags.com/thumbs/russia/flag-400.png" title="Russian">
          
        </a>
      </li>
    
  </ul>
</span>

<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'ko',
    autoDisplay: false,
    layout: google.translate.TranslateElement.InlineLayout.VERTICAL
  }, 'google_translate_element');

  // Links to cross-origin destinations are unsafe
  var gll = document.getElementsByClassName('goog-logo-link')[0];
  if (gll) {
    gll.setAttribute('rel', 'noopener');
  }

  function restoreLang() {
    var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
    if (!iframe) return;

    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    var restore_el = innerDoc.getElementsByTagName("button");

    for (var i = 0; i < restore_el.length; i++) {
      if (restore_el[i].id.indexOf("restore") >= 0) {
        restore_el[i].click();
        var close_el = innerDoc.getElementsByClassName("goog-close-link");
        close_el[0].click();
        return;
      }
    }
  }

  function triggerHtmlEvent(element, eventName) {
    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent(eventName, true, true);
      element.dispatchEvent(event);
    } else {
      event = document.createEventObject();
      event.eventType = eventName;
      element.fireEvent('on' + event.eventType, event);
    }
  }

  var googleCombo = document.querySelector("select.goog-te-combo");
  var langSelect = document.querySelector('.ct-language');
  langSelect.addEventListener('click', function(event) {
    if (!event.target) {
      return;
    }

    var selected = document.querySelector('.ct-language .ct-language-selected');
    if (selected) {
      selected.classList.remove('ct-language-selected');
    }

    var target = event.target;
    while (target && target !== langSelect ) {
      if (target.matches('.lang-select')) {
        break;
      }
      target = target.parentElement;
    }

    if (target && target.matches('.lang-select')) {
      var lang = target.getAttribute('data-lang');
      if (googleCombo.value == lang) {
        restoreLang();
      } else {
        target.parentElement.classList.add('ct-language-selected');
        googleCombo.value = lang;
        triggerHtmlEvent(googleCombo, 'change');
      }
    }

    event.preventDefault();
  });
}
</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</span>
              -->
</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>
















































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">생성자를 숨기는 팩토리 메서드</h1>
  <h2 class="post-subtitle">우테코 6기 프리코스 3주차</h2>

  <p class="post-meta">
    <time class="dt-published" datetime="2023-11-08T00:00:00+00:00" itemprop="datePublished"><i class="fa fa-calendar"></i> 2023-11-08
    </time>

    
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> about 5 mins to read</span>
  </p>
<div class="post-tags">
<a class="post-tag" href="/tags.html#%EC%9A%B0%ED%85%8C%EC%BD%94%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4">#우테코프리코스</a><a class="post-tag" href="/tags.html#%ED%8C%A9%ED%86%A0%EB%A6%AC%ED%8C%A8%ED%84%B4">#팩토리패턴</a>
</div></header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <h2 id="프리코스-1주차-돌아보기">프리코스 1주차 돌아보기</h2>
<p>1주차에 진행했던 숫자 야구 게임의 코드를 돌아보면, 객체 생성 시에 여러 생성자를 사용했었다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 컴퓨터(투수)가 생성한 랜덤 숫자를 담거나,</span>
<span class="c1">// 사용자(타자)가 생성한 숫자를 담기 위한 클래스</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Player</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">;</span>

	<span class="c1">// 무작위 숫자로 객체 생성</span>
	<span class="kd">public</span> <span class="nf">Player</span><span class="o">(</span><span class="n">총</span> <span class="n">자릿수</span><span class="o">,</span> <span class="n">범위</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

	<span class="c1">// 주어진 리스트와 동일하게 객체 생성</span>
	<span class="kd">public</span> <span class="nf">Player</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 사용 예시</span>
<span class="nc">Player</span> <span class="n">pitcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Player</span><span class="o">(</span><span class="n">자릿수</span> <span class="o">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">범위</span> <span class="o">=</span> <span class="mi">0</span><span class="o">~</span><span class="mi">9</span><span class="o">);</span>  <span class="c1">// 무작위 숫자 [3, 2, 7]  생성</span>
<span class="nc">Player</span> <span class="n">hitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Player</span><span class="o">(</span><span class="n">사용자</span> <span class="n">입력으로부터</span> <span class="n">구성한</span> <span class="nc">List</span><span class="o">);</span>  <span class="c1">// 사용자가 [1, 2, 3] 입력</span>
<span class="c1">// 결과: 1스트라이크, 1볼</span>
</code></pre></div></div>
<p>투수와 타자의 코드를 재사용하고 싶어 Player라는 하나의 클래스로 만들었고,
생성자를 통해 생성 방식을 구분하였다.</p>

<p>하지만 코드를 보면 알 수 있듯이 한 눈에 각자의 역할을 파악하기란 쉽지 않다.
모두 동일한 <em>Player</em>라는 이름의 메서드를 사용하고 있어 코드를 작성한 본인 외에는
역할을 알기 힘들었고,
그 점을 보완하기 위해 주석을 덕지덕지 달아야 했다.</p>

<p>이런 문제점을 어떻게 보완할 수 있을까 고민하던 중에, 우테코 프리코스 디코에서 한 가지
정보를 얻을 수 있었다.</p>

<h2 id="팩토리-메서드">팩토리 메서드</h2>
<p>팩토리 메서드(Factory Method)란 생성자를 대신해 객체 생성의 역할을 하는
메서드이다[<a href="https://tecoble.techcourse.co.kr/post/2020-05-26-static-factory-method/">1</a>]. Effective Java[2]에 따르면 생성자 대신 팩토리 메서드를 사용할 때의 장점이
여럿 있다고 하는데, 그 중 이번 과제에 적용할 수 있던 부분을 소개한다.</p>

<h3 id="이름-가지기">이름 가지기</h3>
<p>이번 3주차에서는 컴퓨터가 생성한 무작위 로또와 사용자가 생성한 정답 로또 용지를
Lotto라는 하나의 클래스로 재사용하였다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Lotto</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nf">Lotto</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">numbers</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LottoGenerator</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">Lotto</span> <span class="nf">generateRandomLotto</span><span class="o">()</span> <span class="o">{...}</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">Lotto</span> <span class="nf">generateAnswerLotto</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nf">Lotto</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 사용 예시</span>
<span class="nc">Lotto</span> <span class="n">randomLotto</span> <span class="o">=</span> <span class="nc">LottoGenerator</span><span class="o">.</span><span class="na">generateRandomLotto</span><span class="o">();</span>
<span class="nc">Lotto</span> <span class="n">lottoFromUserInput</span> <span class="o">=</span> <span class="nc">LottoGenerator</span><span class="o">.</span><span class="na">generateAnswerLotto</span><span class="o">(</span><span class="cm">/*리스트*/</span><span class="o">);</span>
</code></pre></div></div>
<p>1주차 코드와 비교하면 큰 발전이 느껴진다. 한눈에 무슨 역할을 하는 코드인지 알아보기 쉽고,
이후 유지보수하기에도 수월할 것이다.</p>

<h3 id="객체-생성-캡슐화">객체 생성 캡슐화</h3>
<p><a href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/07/2-woowacourse-pre3-dto">이전 글</a>에서 밝힌 것처럼, 이번 과제에는
Dto도 사용되었다. Dto 객체 생성에도 팩토리 메서드를 사용하는 것으로 이번 주차에 특히
집중했던 <strong>캡슐화</strong>라는 목표에 다가설 수 있었다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LottoDto</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">numbers</span><span class="o">;</span>

	<span class="c1">// 생성자는 private으로 두고 외부에서 접근하지 못하게 하였다.</span>
	<span class="kd">private</span> <span class="nf">LottoDto</span><span class="o">(</span><span class="nc">Lotto</span> <span class="n">lotto</span><span class="o">)</span> <span class="o">{...}</span>

	<span class="c1">// 외부에서는 팩토리 메서드를 사용해 Dto를 생성할 수 있다.</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">LottoDto</span> <span class="nf">from</span><span class="o">(</span><span class="nc">Lotto</span> <span class="n">lotto</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nf">LottoDto</span><span class="o">(</span><span class="n">lotto</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 팩토리 메서드를 사용하기 이전 코드</span>
<span class="n">outputView</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="k">new</span> <span class="nc">LottoDto</span><span class="o">(</span><span class="n">lotto</span><span class="o">.</span><span class="na">toString</span><span class="o">()));</span>
<span class="n">outputView</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="k">new</span> <span class="nc">LottoDto</span><span class="o">(</span><span class="n">lotto</span><span class="o">.</span><span class="na">getNumbers</span><span class="o">()));</span>
<span class="c1">// 팩토리 메서드를 적용한 코드</span>
<span class="n">outputView</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="k">new</span> <span class="nc">LottoDto</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">lotto</span><span class="o">));</span>
</code></pre></div></div>
<p>팩토리 메서드를 사용하기 이전에는, 뷰에 넘겨주기 위한 Dto를 만들 때 getter를 사용해
모델의 내부 구조를 그대로 노출해야 했다. 지금까지의 글에서 계속 언급했듯이, 이는 캡슐화를
깨는 디자인이며 요구사항(모델의 내부 구조)이 변할 경우 많은 코드의 수정을 필요로 한다.</p>

<p>아래처럼 팩토리 메서드를 사용하여 변환 과정을 숨기는 것으로 캡슐화를 유지할 수 있다.</p>

<h3 id="코드-재사용">코드 재사용</h3>
<p>이렇게 [2]에서 소개하는 장점을 과제에 적용하고,
추가로 객체 생성 시 validate 책임도 팩토리 메서드에 위임했다.
이 방법을 통해 <a href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/1-woowacourse-pre3-composition">조합 클래스</a> 객체
생성 시, validate 코드를 재사용할 수 있었다.</p>
<ul>
  <li>팩토리 메서드 적용 이전
<img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBMb3R0byB7XG5Mb3R0bygpXG52YWxpZGF0ZSgpXG59XG5jbGFzcyBMb3R0b0dlbmVyYXRvciB7XG5nZW5lcmF0ZUxvdHRvKClcbn1cbmNsYXNzIExvdHRvV2l0aEJvbnVzIHtcbkxvdHRvV2l0aEJvbnVzKClcbnZhbGlkYXRlKClcbn1cbkxvdHRvIDwuLiBMb3R0b0dlbmVyYXRvciA6IOyDneyEsSIsIm1lcm1haWQiOm51bGx9">
</li>
  <li>팩토리 메서드 적용 이후
<img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBMb3R0byB7XG5Mb3R0bygpXG59XG5jbGFzcyBMb3R0b1dpdGhCb251cyB7XG5Mb3R0b1dpdGhCb251cygpXG59XG5jbGFzcyBMb3R0b0dlbmVyYXRvciB7XG5nZW5lcmF0ZUxvdHRvKClcbnZhbGlkYXRlKClcbn1cbkxvdHRvIDwuLiBMb3R0b0dlbmVyYXRvciA6IOyDneyEsVxuTG90dG9XaXRoQm9udXMgPC4uIExvdHRvR2VuZXJhdG9yIDog7IOd7ISxIiwibWVybWFpZCI6bnVsbH0">
</li>
</ul>

<h2 id="3주차를-마치며">3주차를 마치며</h2>
<p>이번 주차의 과제를 해결하면서 요구 사항을 만족하기 위해 정말 많은 것을 공부할 수 있었다.
<strong>MVC 패턴, DTO, 조합 클래스, 팩토리 메서드</strong>를 공부해 코드에 적용하고, 블로그에 적용한
내용들을 소개했다.</p>

<p>1주차 코드와 약간 비교해봐도 클린 코드를 향해 나아가고 있다는 느낌이 든다. 언젠가 거대한
프로젝트의 코드에 기여할 때, 이렇게 배운 내용들이 좋은 코드 작성에 도움이 될 것이다.</p>

<h2 id="reference">Reference</h2>
<p>[1] <a href="https://tecoble.techcourse.co.kr/post/2020-05-26-static-factory-method/">정적 팩토리 메서드(Static Factory Method)는 왜 사용할까?</a></p>

<p>[2] Joshua Bloch, “Effective Java,” 2018.</p>

<p>[3] <a href="https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9CFactory-Method-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90">팩토리 메서드(Factory Method) 패턴 - 완벽 마스터하기</a></p>



    </div>

</article>
<div class="post-nav">
<a class="previous" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/1-woowacourse-pre3-composition.html" title="상속과 조합 클래스">상속과 조합 클래스</a><a class="next" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/26/woowacourse-pre4-unit-test.html" title="좋은 단위 테스트 작성하기">좋은 단위 테스트 작성하기</a>
</div>
    <div class="post-related">
      <div>Related Articles</div>
      <ul>
        
          <li><a class="related" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/12/01/woowacourse-finalize.html" title="클린 코드 작성하기 - 우테코를 마치며">클린 코드 작성하기 - 우테코를 마치며</a></li>
        
          <li><a class="related" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/26/woowacourse-pre4-unit-test.html" title="좋은 단위 테스트 작성하기">좋은 단위 테스트 작성하기</a></li>
        
          <li><a class="related" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/08/1-woowacourse-pre3-composition.html" title="상속과 조합 클래스">상속과 조합 클래스</a></li>
        
          <li><a class="related" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/07/1-woowacourse-pre3-mvc.html" title="MVC 패턴으로 작성하기">MVC 패턴으로 작성하기</a></li>
        
          <li><a class="related" href="/%EC%9A%B0%ED%85%8C%EC%BD%94/2023/11/07/2-woowacourse-pre3-dto.html" title="캡슐화를 돕는 DTO 사용기">캡슐화를 돕는 DTO 사용기</a></li>
        
      </ul>
    </div>
    <div class="post-comments">
<div id="utterances-placeholder"></div>
<script>
  const utterancesThemeFromDataTheme = () => {
    const dataTheme = document.documentElement.getAttribute('data-theme');
    return `github-${dataTheme}`;
  };

  const setUtterancesTheme = () => {
    const iframe = document.querySelector('.utterances-frame');
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: utterancesThemeFromDataTheme()
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es');
    }
  }

  // dynamic change
  const observer = new MutationObserver((mutationsList, observer) => {
    for (let mutation of mutationsList) {
      if (mutation.type === 'attributes' && mutation.attributeName === 'data-theme') {
        setUtterancesTheme();
      }
    }
  });
  observer.observe(document.documentElement, { attributes: true, childList: false, subtree: false });

  let utterancesScript = document.createElement('script');
  utterancesScript.async = true;
  utterancesScript.src = 'https://utteranc.es/client.js';
  utterancesScript.crossOrigin = 'anonymous';
  utterancesScript.setAttribute('issue-term', 'title');
  utterancesScript.setAttribute('label', '💬');
  utterancesScript.setAttribute('repo', 'metishonora/metishonora');
  utterancesScript.setAttribute('theme', utterancesThemeFromDataTheme());

  const placeholder = document.getElementById('utterances-placeholder');
  placeholder.parentNode.replaceChild(utterancesScript, placeholder);
</script>
</div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">목차</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>
<span class="copyleft">©</span> 2024 S G Kim</div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
    </div>
  </div>
</footer>

</body>
</html>
